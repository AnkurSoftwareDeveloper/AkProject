<div class="content-main">

    <div class="content-header">
      <h2 class="content-title">Order detail</h2>
    </div>
        <div class="card">
          <header class="card-header">
            <div class="row align-items-center">
              <div class="col-lg-6 col-md-6">
                <span>
                  <i class="fa fa-calendar"></i> <b>Wed, Aug 13, 2020, 4:34PM</b>  
                </span> <br>
                <small class="text-muted">Order ID: {{getOrdersById.order_id}}</small>
              </div>
              <div class="col-lg-4 col-md-4 float-right">
                <form (ngSubmit)="onSubmit()" [formGroup] = "changeStatus">
                    <select id="status" name="status" formControlName="status" class="form-select d-inline-block" style="max-width: 200px">
                    <option value="Your order has been placed">Order Placed</option>
                    <option value="Your order has been confirmed">Order Confirmed</option>
                    <option value="Your order has been shipped">Order Shipped</option>
                    <option value="Your order has been delivered">Delivered</option>
                    <option value="Your order has been canceled">Order Canceled</option>
                    </select>
                    <button class="btn btn-primary" type="submit">Save</button>
                </form>
              </div>
              <div class="col-lg-2 col-md-2 float-right">
                <button [useExistingCss]="true" printSectionId="print-section" ngxPrint><i class="fa fa-print"></i></button>
                <!-- <a class="btn btn-secondary ms-2" href="#"><i class="fa fa-print"></i></a> -->
              </div>
            </div>
          </header> <!-- card-header end// -->
          <div id="print-section" class="card-body">

            <div class="row mb-5 order-info-wrap">
              <div class="col-md-4">
                <article class="icontext align-items-start">
                  <span class="icon icon-sm rounded-circle bg-primary-light">
                    <i class="text-primary fa fa-user"></i>
                  </span>
                  <div class="text">
                    <h4 class="mb-1"><b>Customer</b></h4> 
                    <p class="mb-1">
                        {{getAddressById.name}} <br> {{getAddressById.email}} <br> +91{{getAddressById.phone}}
                    </p>
                  </div>
                </article> 
              </div> <!-- col// -->
              <div class="col-md-4">
                <article class="icontext align-items-start">
                  <span class="icon icon-sm rounded-circle bg-primary-light">
                    <i class="text-primary fa fa-truck"></i>
                  </span>
                  <div class="text">
                    <h4 class="mb-1"><b>Order info</b></h4> 
                    <p class="mb-1">
                      Shipping: Fargo express <br> Pay method: card <br> Status: new
                    </p>
                  </div>
                </article> 
              </div> <!-- col// -->
              <div class="col-md-4">
                <article class="icontext align-items-start">
                  <span class="icon icon-sm rounded-circle bg-primary-light">
                    <i class="text-primary fa fa-map-marker"></i>
                  </span>
                  <div class="text">
                    <h4 class="mb-1"><b>Deliver to</b></h4> 
                    <p class="mb-1">
                        {{getAddressById.address}}<br>City: {{getAddressById.city}}, {{getAddressById.state}}<br> {{pin(getAddressById.pin_code)}}
                    </p>
                  </div>
                </article> 
              </div> <!-- col// -->
            </div> <!-- row // -->

            <div class="row">
              <div class="col-lg-8">
                <div class="table-responsive">
                <table class="table border table-hover table-lg">
                  <thead>
                    <tr>
                      <th width="40%">Product</th>
                      <th width="20%">Unit Price</th>
                      <th width="20%">Quantity</th>
                      <th width="20%" class="text-end">Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let ordOtem of orderItem">
                      <td>
                        <a class="itemside" href="#">
                            <div class="left">
                                <img src="http://127.0.0.1:8000{{ordOtem.image}}" width="40" height="40" class="img-xs" alt="Item">
                            </div>
                            <div class="info"> {{ordOtem.product_name}} </div>
                        </a>
                      </td>
                      <td> ₹{{ordOtem.discount_price}} </td>
                      <td> {{convertQuntJson(getOrdersById.itemsQuntJson,ordOtem.product_id)}} </td>
                      <td class="text-end"> ₹{{ordOtem.discount_price * convertQuntJson(getOrdersById.itemsQuntJson,ordOtem.product_id)}}  </td>
                    </tr>
                    <tr>
                      <td colspan="4"> 
                          <article class="float-end">
                            <dl class="dlist"> 
                                <dt>Subtotal: </dt> <dd> ₹{{getOrdersById.amount}}</dd> 
                              </dl>
                              <dl class="dlist"> 
                                <dt>Shipping cost:</dt> <dd>₹50</dd> 
                              </dl>
                              <dl class="dlist"> 
                                <dt>Grand total:</dt> <dd> <b class="h5">₹{{getOrdersById.amount + 50}}</b> </dd> 
                              </dl>
                              <dl class="dlist"> 
                                <dt class="text-muted">Status:</dt> 
                                <dd>  
                                  <span *ngIf="getOrdersById.paymentStatus=='Cash on Delivery'" class="badge rounded-pill alert-danger text-error">{{getOrdersById.paymentStatus}}</span>
                                  <span *ngIf="getOrdersById.paymentStatus=='UPI'" class="badge rounded-pill alert-success text-success">{{getOrdersById.paymentStatus}}</span> 
                                </dd> 
                              </dl>
                          </article>
                      </td>
                    </tr>
                  </tbody>
                </table>
                </div> <!-- table-responsive// -->
              </div>  <!-- col// -->
              <div class="col-lg-4">
                <div class="box shadow-sm bg-light">
                   <h4><b>Payment info</b></h4>
                   <p> 
                    <img src="images/card-brands/2.png" class="border" height="20"> Master Card **** **** 4768  <br>
                    Business name: Grand Market LLC <br>
                    Phone: +1 (800) 555-154-52
                   </p>
                </div>
                <div class="h-25 pt-4">
                  <div class="mb-3">
                    <label>Notes</label>
                    <textarea class="form-control" name="notes" id="notes" placeholder="Type some note"></textarea>
                  </div>
                  <button class="btn btn-primary">Save note</button>
                </div>
              </div> <!-- col// -->

            </div>
          </div> <!-- card-body end// -->
        </div> <!-- card end// -->

</div>